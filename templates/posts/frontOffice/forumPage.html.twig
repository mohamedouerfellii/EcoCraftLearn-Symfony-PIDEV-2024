
<!DOCTYPE html>
<html lang="en">
<!-- Mirrored from template.hasthemes.com/edule/eduLe/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Jun 2023 22:29:19 GMT -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>{% block title %}EcoCraftLearning{% endblock %}</title>
    <meta name="robots" content="noindex, follow" />
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="{{asset('assets/images/logoDark.png')}}">
    
    {% block css %}
    <!-- CSS
	============================================ -->
    <!-- Google Fonts CSS -->  
    <link rel="preconnect" href="https://fonts.googleapis.com/">
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet">
    <!-- Icon Font CSS -->
    <!-- <link rel="stylesheet" href="assets/css/plugins/icofont.min.css">
    <link rel="stylesheet" href="assets/css/plugins/flaticon.css">
    <link rel="stylesheet" href="assets/css/plugins/font-awesome.min.css"> -->
    <!-- Plugins CSS -->
    <!-- <link rel="stylesheet" href="assets/css/plugins/animate.min.css">
    <link rel="stylesheet" href="assets/css/plugins/swiper-bundle.min.css">
    <link rel="stylesheet" href="assets/css/plugins/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/plugins/nice-select.css">
    <link rel="stylesheet" href="assets/css/plugins/apexcharts.css">
    <link rel="stylesheet" href="assets/css/plugins/jqvmap.min.css"> -->
    <!-- Main Style CSS -->
    <!-- <link rel="stylesheet" href="assets/css/style.css"> -->
    <!--====== Use the minified version files listed below for better performance and remove the files listed above ======-->
    <link rel="stylesheet" href="{{asset('assets/css/vendor/plugins.min.css')}}">
    <link rel="stylesheet" href="{{asset('assets/css/style.min.css')}}">
    <link rel="stylesheet" href="{{asset('assets/css/forum.css')}}">
    <link rel="stylesheet" href="{{asset('assets/css/comments.min.css')}}">
    {% endblock %}
</head>
<body>
    <div class="main-wrapper">
        {% block header %}
            <!-- Header Section Start -->
            <div class="header-section main-wrapper-bottom-margin">
                <!-- Header Main Start -->
                <div class="header-main">
                    <div class="container">

                        <!-- Header Main Start -->
                        <div class="header-main-wrapper">

                            <!-- Header Logo Start -->
                            <div class="header-logo">
                                <a href="index.html"><img style="height: 60px; width: 60px;" src="{{asset('assets/images/logoDark.png')}}" alt="Logo"></a>
                            </div>
                            <!-- Header Logo End -->

                            <!-- Header Menu Start -->
                            <div class="header-menu d-none d-lg-block">
                                <ul class="nav-menu">
                                    <li><a href="#">Home</a></li>
                                    <li>
                                        <a href="#">All Course</a>
                                        <ul class="sub-menu">
                                            <li><a href="courses.html">Courses</a></li>
                                            <li><a href="courses-details.html">Courses Details</a></li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="#">Pages </a>
                                    </li>
                                    <li>
                                        <a href="{{path('forum_page')}}">Forum</a>

                                    </li>
                                    <li><a href="#">Contact</a></li>
                                </ul>

                            </div>
                            
                            <!-- Header Menu End -->

                            <!-- Header Sing In & Up Start -->
                            <div class="header-sign-in-up d-none d-lg-block">
                                <ul>
                                    <li><a class="sign-in" href="login.html">Sign In</a></li>
                                    <li><a class="sign-up" href="register.html">Sign Up</a></li>
                                </ul>
                            </div>
                            <!-- Header Sing In & Up End -->

                            <!-- Header Mobile Toggle Start -->
                            <div class="header-toggle d-lg-none">
                                <a class="menu-toggle" href="javascript:void(0)">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </a>
                            </div>
                            <!-- Header Mobile Toggle End -->

                        </div>
                        <!-- Header Main End -->



                
                    
                    </div>
                </div>
                
                {# Form to add a new post #}
                <div class="post-form-container">
                    
                        {# Render CSRF token field #}
                         {{ form_start(form, {'attr': { 'methode':'POST','action': path('addpost'),'novalidate': 'novalidate'}}) }}
        
                       
                            {{ form_label(form.content) }}

                            {{ form_widget(form.content, {'attr': {'class': 'form-control'}}) }}
                            
                            {% if form_errors(form.content) %}
                                     <span class="form-error">{{ form_errors(form.content) }}</span>
                            {% endif %}
                        
                        
                        <div class="formbold-input-file">
                        <label class="formbold-input-label" >
                            <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0_1670_1531)">
                            <path d="M12.3568 6.4644L7.64349 11.1786C7.5639 11.2554 7.50041 11.3474 7.45674 11.4491C7.41307 11.5507 7.39008 11.6601 7.38912 11.7707C7.38815 11.8814 7.40924 11.9911 7.45114 12.0935C7.49304 12.1959 7.55492 12.289 7.63316 12.3672C7.71141 12.4455 7.80445 12.5073 7.90686 12.5492C8.00928 12.5912 8.11901 12.6122 8.22966 12.6113C8.34031 12.6103 8.44966 12.5873 8.55133 12.5436C8.653 12.5 8.74495 12.4365 8.82182 12.3569L13.536 7.64356C14.0049 7.17468 14.2683 6.53875 14.2683 5.87565C14.2683 5.21255 14.0049 4.57661 13.536 4.10773C13.0671 3.63885 12.4312 3.37544 11.7681 3.37544C11.105 3.37544 10.469 3.63885 10.0002 4.10773L5.28599 8.8219C4.89105 9.20701 4.57652 9.6667 4.36062 10.1743C4.14473 10.6819 4.03178 11.2274 4.02832 11.779C4.02487 12.3306 4.13097 12.8774 4.34049 13.3877C4.55 13.8979 4.85876 14.3615 5.24884 14.7516C5.63892 15.1416 6.10256 15.4503 6.61287 15.6597C7.12318 15.8692 7.67 15.9752 8.2216 15.9717C8.77321 15.9681 9.31862 15.8551 9.82621 15.6391C10.3338 15.4232 10.7934 15.1086 11.1785 14.7136L15.8927 10.0002L17.071 11.1786L12.3568 15.8927C11.8151 16.4344 11.172 16.8641 10.4643 17.1573C9.75649 17.4505 8.99791 17.6014 8.23182 17.6014C7.46574 17.6014 6.70716 17.4505 5.99939 17.1573C5.29162 16.8641 4.64853 16.4344 4.10682 15.8927C3.56512 15.351 3.13542 14.7079 2.84225 14.0002C2.54908 13.2924 2.39819 12.5338 2.39819 11.7677C2.39819 11.0016 2.54908 10.2431 2.84225 9.5353C3.13542 8.82753 3.56512 8.18443 4.10682 7.64273L8.82182 2.9294C9.60767 2.17041 10.6602 1.75043 11.7527 1.75992C12.8451 1.76942 13.8902 2.20762 14.6627 2.98015C15.4353 3.75269 15.8735 4.79774 15.883 5.89023C15.8925 6.98271 15.4725 8.03522 14.7135 8.82106L10.0002 13.5369C9.76794 13.7691 9.49226 13.9532 9.18887 14.0788C8.88548 14.2045 8.56032 14.2691 8.23195 14.2691C7.90357 14.269 7.57843 14.2043 7.27507 14.0786C6.97171 13.9529 6.69607 13.7687 6.46391 13.5365C6.23174 13.3043 6.04759 13.0286 5.92196 12.7252C5.79633 12.4218 5.7317 12.0966 5.73173 11.7683C5.73177 11.4399 5.79649 11.1148 5.92219 10.8114C6.04788 10.508 6.2321 10.2324 6.46432 10.0002L11.1785 5.28606L12.3568 6.4644Z" fill="#07074D"/>
                            </g>
                            <defs>
                            <clipPath id="clip0_1670_1531">
                            <rect width="20" height="20" fill="white"/>
                            </clipPath>
                            </defs>
                            </svg>   
                            {{ form_widget(form.attachment, {'attr': {'id': 'upload', 'style': 'display: none;' ,'onchange': 'previewImage(event)'}}) }}
                        </label>
                        </div>
                        
                        

                        
                    {{ form_end(form) }}
                   
                    <div id="image-preview" style="display: none;">
    <img id="preview" src="#" alt="Preview" width="100" height="100">
</div>
                </div>
<div id="image-preview" style="display: none;">
    <img id="preview" src="#" alt="Preview" width="100" height="100">
</div>
                <script>
                    function previewImage(event) {
        var input = event.target;
        var preview = document.getElementById('preview');
        var previewContainer = document.getElementById('image-preview');

        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function(e) {
                preview.src = e.target.result;
                previewContainer.style.display = 'block';
            }
            reader.readAsDataURL(input.files[0]);
        } else {
            preview.src = '';
            previewContainer.style.display = 'none';
        }
    }
                </script>

                <style>
                    .attachment-icon {
                        background-color: transparent;
                        border: none;
                        cursor: pointer;
                    }

                    .icon-image {
                        width: 24px; /* Adjust the width of the icon as needed */
                        height: 24px; /* Adjust the height of the icon as needed */
                        /* Add any other styles for the icon as needed */
                    }

                    #preview {
                        max-width: 100px; /* Adjust the maximum width as needed */
                        max-height: 100px; /* Adjust the maximum height as needed */
                    }
                </style>

                {# Display existing posts #}
                {% for post in posts %}
                    <div class="post-container">
                        <div class="post">
                            <div class="post-header">
                                <div class="post-header-left">
                                    <img src="{{ post.owner.image }}" class="profile-picture" alt="Profile Picture"/>
                                    <div>
                                        <div>
                                            <span class="post-author">{{ post.owner.firstname }}</span>
                                        </div>
                                        <span class="post-time">{{ post.posteddate|date(' H:i') }}</span>        
                                    </div>
                                </div>
                                <div class="post-header-right">
                                    <a class="post-action" href="{{ path('update', {id:post.idpost}) }}" >
                                        <img src="{{ asset('images/pencil-fill.png') }}"width="20px;" height="20px;"/>
                                    </a>   
                                    <a class="post-action" href="{{ path('deleteFront', {id:post.idpost}) }}" >
                                        <img src="{{ asset('images/close-circle-fill.png') }}"width="20px;" height="20px;"/>
                                    </a>
                                </div>
                            </div>

                            <div>
                                <p>{{ post.content }}</p>
                                <div align="center">
                                    {% if post.attachment %}  
                                    <p><img src="{{ asset('contents/uploads/posts/' ~ post.attachment) }}"width="300px;" height="250px;"/></p>
                                    {% endif %}
                                </div>
                            </div>
                            <br/>
                            <div class="flex-container">
                                <div class="flex-container-divider" >
                                    <div class="flex-container-divider-bar"></div>
                                    <div class="flex-container-divider-bar"></div>
                                </div>
  <a class="post-reaction like-button" href="" data-post-id="{{ post.idpost }}">
                <img class="post-reaction-img" src="{{ asset('images/heart-line.png') }}" alt="Like"/>
            </a>                             
                                    <a class="post-reaction">
                                         <img class="post-comment-img" src="{{ asset('images/chat-1-line.png') }}"/>
                                    </a>      
                                <a class="post-reaction" href="{{ path('update', {id:post.idpost}) }}" ><img class="post-reaction-img" src="{{ asset('images/share-forward-line.png') }}"/></a>
                             
                            </div>  
                            
                            <div id="comments-{{ post.idpost }}" class="comments-container">
                           {{ form_start(commentForms[post.idpost], {'attr': {'novalidate': 'novalidate'}}) }}
   {{ form_widget(commentForms[post.idpost].content) }}
{{ form_errors(commentForms[post.idpost].content) }}
    
{{ form_end(commentForms[post.idpost]) }}
        {% for comment in post.comments %}
        
            <div class="comment">
            
                <strong>{{ comment.owner.firstname }}:</strong>
                <p>{{ comment.content }}</p>
               <div class="comment-header">
     
                                <div class="post-header-right">
                                    <a class="post-action" href="{{ path('update_comment', {id:comment.idcomment}) }}" >
                                        <img src="{{ asset('images/pencil-fill.png') }}"width="20px;" height="20px;"/>
                                    </a>   
                                    <a class="post-action" href="{{ path('deletecomment', {id:comment.idcomment}) }}" >
                                        <img src="{{ asset('images/close-circle-fill.png') }}"width="20px;" height="20px;"/>
                                    </a>
                                </div>
                            </div>

            </div>
            
        {% else %}
            <p align="center">No comments yet.</p>
        {% endfor %}
    </div>
    
    <!-- Comment Form -->
    <div class="comment-form">
       
    </div>
                           
                        </div>
                        
                        
                    </div>
                   
                {% endfor %}
              
            </div>  
           <script>
    // Attach event listeners to like buttons
    function toggleLike(button, action) {
    var likeIcon = button.querySelector('img');
    var idPost = button.dataset.postId; // corrected attribute name

    // Toggle the like icon
    if (likeIcon.src.includes('heart-line.png')) {
        likeIcon.src = '{{ asset('images/heart-green.png') }}';
        updateLikeStatus(idPost, 1);
        console.log('Liked post with ID: ' + idPost);
    } else {
        likeIcon.src = '{{ asset('images/heart-line.png') }}';
        updateLikeStatus(idPost, 0);
        console.log('Unliked post with ID: ' + idPost);
    }
    console.log('idPost:', idPost);
    console.log('action:', action);
}

// Update the event listener to pass the action parameter
document.querySelectorAll('.like-button').forEach(function(button) {
    button.addEventListener('click', function(event) {
        event.preventDefault();
        var action = button.querySelector('img').src.includes('heart-line.png') ? 1 : 0;
        toggleLike(button, action);
    });
});
    function updateLikeStatus(idPost, action) {
    
    var xhr = new XMLHttpRequest();
    xhr.open('POST', '/like/' + idPost, true);
    xhr.setRequestHeader('Content-Type', 'application/json');
    xhr.onreadystatechange = function () {
        if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
            var response = JSON.parse(xhr.responseText);
            console.log('Like action: ' + response.action);
        }
    };
    var data = JSON.stringify({ idPost: idPost, action: action });
    xhr.send(data);
    console.log('idPost:', idPost);
console.log('action:', action);
}
</script>
          <script>
          document.addEventListener('DOMContentLoaded', function () {
    var icons = document.querySelectorAll('.post-comment-img');
    icons.forEach(function(icon) {
        icon.addEventListener('click', function() {
            var commentForm = this.closest('.post-container').querySelector('.comments-container form');
            if (commentForm.style.display === 'block') {
                commentForm.style.display = 'none';
            } else {
                commentForm.style.display = 'block';
            }
        });
    });
});
          </script>
           <!-- Header Section End -->
        {% endblock %} 
       
        
        
       {% block footer %}
            <!-- Footer Start  -->
            <div class="footer-section ">

                <!-- Footer Copyright Start -->
                <div class="footer-copyright">
                    <div class="container">

                        <!-- Footer Copyright Start -->
                        <div class="copyright-wrapper">
                            <div class="copyright-text">
                                <p>&copy; 2023 <span> EcoCraftLearning </span> Made by <a href="#">SIRIUS</a></p>
                            </div>
                        </div>
                        <!-- Footer Copyright End -->

                    </div>
                </div>
                <!-- Footer Copyright End -->
                <!--Back To Start-->
                <a href="#" class="back-to-top">
                    <i class="icofont-simple-up"></i>
                </a>
                <!--Back To End-->
            </div>
            <!-- Footer End -->
        {% endblock %}
       
        {% block mobileMenu %}
             <!-- Mobile Menu Start -->
            <div class="mobile-menu">

                <!-- Menu Close Start -->
                <a class="menu-close" href="javascript:void(0)">
                    <i class="icofont-close-line"></i>
                </a>
                <!-- Menu Close End -->

                <!-- Mobile Top Medal Start -->
                <div class="mobile-top">
                    <p><i class="flaticon-phone-call"></i> <a href="tel:9702621413">(216) 96726127</a></p>
                    <p><i class="flaticon-email"></i> <a href="mailto:address@gmail.com">ecocraftlearning@gmail.com</a></p>
                </div>
                <!-- Mobile Top Medal End -->

                <!-- Mobile Sing In & Up Start -->
                <div class="mobile-sign-in-up">
                    <ul>
                        <li><a class="sign-in" href="login.html">Sign In</a></li>
                        <li><a class="sign-up" href="register.html">Sign Up</a></li>
                    </ul>
                </div>
                <!-- Mobile Sing In & Up End -->

                <!-- Mobile Menu Start -->
                <div class="mobile-menu-items">
                    <ul class="nav-menu">
                        <li><a href="index.html">Home</a></li>
                        <li>
                            <a href="#">All Course</a>
                            <ul class="sub-menu">
                                <li><a href="courses.html">Courses</a></li>
                                <li><a href="courses-details.html">Courses Details</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#">Pages </a>
                            <ul class="sub-menu">
                                <li><a href="about.html">About</a></li>
                                <li><a href="register.html">Register</a></li>
                                <li><a href="login.html">Login</a></li>
                                <li><a href="faq.html">FAQ</a></li>
                                <li><a href="404-error.html">404 Error</a></li>
                                <li><a href="after-enroll.html">After Enroll</a></li>
                                <li><a href="courses-admin.html">Instructor Dashboard (Course List)</a></li>
                                <li><a href="overview.html">Instructor Dashboard (Performance)</a></li>
                                <li><a href="students.html">Students</a></li>
                                <li><a href="reviews.html">Reviews</a></li>
                                <li><a href="engagement.html">Course engagement</a></li>
                                <li><a href="traffic-conversion.html">Traffic & conversion</a></li>
                                <li><a href="messages.html">Messages</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#">Blog</a>
                            <ul class="sub-menu">
                                <li>
                                    <a href="#">Blog</a>
                                    <ul class="sub-menu">
                                        <li><a href="blog-grid.html">Blog</a></li>
                                        <li><a href="blog-left-sidebar.html">Blog Left Sidebar</a></li>
                                        <li><a href="blog-right-sidebar.html">Blog Right Sidebar</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <a href="#">Blog Details</a>
                                    <ul class="sub-menu">
                                        <li><a href="blog-details-left-sidebar.html">Blog Details Left Sidebar</a></li>
                                        <li><a href="blog-details-right-sidebar.html">Blog Details Right Sidebar</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>

                </div>
                <!-- Mobile Menu End -->

                <!-- Mobile Menu End -->
                <div class="mobile-social">
                    <ul class="social">
                        <li><a href="#"><i class="flaticon-facebook"></i></a></li>
                        <li><a href="#"><i class="flaticon-twitter"></i></a></li>
                        <li><a href="#"><i class="flaticon-skype"></i></a></li>
                        <li><a href="#"><i class="flaticon-instagram"></i></a></li>
                    </ul>
                </div>
                <!-- Mobile Menu End -->

            </div>
            <!-- Mobile Menu End -->
        {% endblock  %}
        
        
        {% block body %}
        {% endblock  %}
       
    </div>
        {% block js %}
            <!-- JS
            ============================================ -->
            <!-- Modernizer & jQuery JS -->
            <script src="{{asset('assets/js/vendor/modernizr-3.11.2.min.js')}}"></script>
            <script src="{{asset('assets/js/vendor/jquery-3.5.1.min.js')}}"></script>
            <script src="{{asset('assets/js/plugins.min.js')}}"></script>
            <!-- Main JS -->
            <script src="{{asset('assets/js/main.js')}}"></script>
            
        {% endblock %}
</body>
<!-- Mirrored from template.hasthemes.com/edule/eduLe/index.html by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 03 Jun 2023 22:29:41 GMT -->
</html>